@namespace Modulus.UI.Blazor.Components

<div class="satellite @(IsActive ? "active" : "") @(_isHovered ? "hovered" : "") @(Disabled ? "disabled" : "")"
     style="top: @(Top)px; left: @(Left)px;"
     @onclick="OnSatelliteClick"
     @onmouseenter="OnMouseEnter"
     @onmouseleave="OnMouseLeave">
    <span class="satellite-icon">@Icon</span>
    <span class="satellite-label">@Label</span>
    @if (IsActive)
    {
        <span class="status-indicator"></span>
    }
</div>

@code {
    /// <summary>
    /// Emoji or icon to display.
    /// </summary>
    [Parameter]
    public string Icon { get; set; } = "ðŸ“¦";

    /// <summary>
    /// Label text.
    /// </summary>
    [Parameter]
    public string Label { get; set; } = "";

    /// <summary>
    /// Whether this satellite is active/running.
    /// </summary>
    [Parameter]
    public bool IsActive { get; set; }

    /// <summary>
    /// Top position in pixels (for absolute positioning).
    /// </summary>
    [Parameter]
    public double Top { get; set; }

    /// <summary>
    /// Left position in pixels (for absolute positioning).
    /// </summary>
    [Parameter]
    public double Left { get; set; }

    /// <summary>
    /// Whether the satellite is disabled.
    /// </summary>
    [Parameter]
    public bool Disabled { get; set; }

    /// <summary>
    /// Click callback.
    /// </summary>
    [Parameter]
    public EventCallback OnClick { get; set; }

    private bool _isHovered;

    private void OnMouseEnter()
    {
        if (!Disabled)
        {
            _isHovered = true;
        }
    }

    private void OnMouseLeave()
    {
        _isHovered = false;
    }

    private async Task OnSatelliteClick()
    {
        if (!Disabled && OnClick.HasDelegate)
        {
            await OnClick.InvokeAsync();
        }
    }
}

