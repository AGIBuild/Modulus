@inherits LayoutComponentBase

<ThemeProvider @ref="_themeProvider">
    <MudLayout>
        <AppBar IsDarkMode="@(_themeProvider?.IsDarkMode ?? false)" 
                OnMenuToggle="@ToggleDrawer" 
                OnThemeToggle="@ToggleTheme" />
        
        <NavDrawer @bind-IsOpen="_drawerOpen" />
        
        <ContentHost>
            @Body
        </ContentHost>
    </MudLayout>
</ThemeProvider>

@code {
    private ThemeProvider? _themeProvider;
    private bool _drawerOpen = true;

    private void ToggleDrawer()
    {
        _drawerOpen = !_drawerOpen;
    }

    private void ToggleTheme()
    {
        _themeProvider?.ToggleTheme();
    }
}
